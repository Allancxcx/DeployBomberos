"use strict";(self.webpackChunkMaterialpro=self.webpackChunkMaterialpro||[]).push([[540],{6452:(R,p,r)=>{r.d(p,{G:()=>h,k:()=>i});var g=r(3576),f=r(4496);let i=(()=>{class l extends g.uw{format(c,s){if("input"===s){let m=c.getDate().toString();m=+m<10?"0"+m:m;let e=(c.getMonth()+1).toString();return e=+e<10?"0"+e:e,`${m}/${e}/${c.getFullYear()}`}return c.toDateString()}static#e=this.\u0275fac=(()=>{let c;return function(m){return(c||(c=f.otF(l)))(m||l)}})();static#t=this.\u0275prov=f.wxM({token:l,factory:l.\u0275fac})}return l})();const h={parse:{dateInput:{month:"short",year:"numeric",day:"numeric"}},display:{dateInput:"input",monthYearLabel:{year:"numeric",month:"numeric"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}}},5540:(R,p,r)=>{r.r(p),r.d(p,{UserPerfilModule:()=>Z});var g=r(8452),f=r(1368),i=r(6504),h=r(512),l=r(3576),A=r(7528),c=r(3372),s=r(5084),m=r(6452),e=r(4496),I=r(7932),$=r(4400),E=r(218),G=r(140),Y=r(9120),C=r(4060),b=r(7536),O=r(2096),v=r(2080),y=r(180),S=r(7816),T=r(1560);function U(t,n){1&t&&(e.I0R(0,"div",42)(1,"mat-icon"),e.wR5(2,"i-tabler",43),e.C$Y()(),e.OEk(3," Cuenta "))}function N(t,n){1&t&&(e.I0R(0,"div",46),e.OEk(1,"Nombre es requerido."),e.C$Y())}function k(t,n){if(1&t&&(e.I0R(0,"mat-hint",44),e.yuY(1,N,2,0,"div",45),e.C$Y()),2&t){const o=e.GaO();e.yG2(),e.C0Y(1,o.f.Nombre.errors&&o.f.Nombre.errors.required?1:-1)}}function F(t,n){1&t&&(e.I0R(0,"div",46),e.OEk(1,"Genero es requerido."),e.C$Y())}function _(t,n){if(1&t&&(e.I0R(0,"mat-hint",44),e.yuY(1,F,2,0,"div",45),e.C$Y()),2&t){const o=e.GaO();e.yG2(),e.C0Y(1,o.f.Genero.errors&&o.f.Genero.errors.required?1:-1)}}function P(t,n){1&t&&(e.I0R(0,"div",46),e.OEk(1,"Fecha nacimiento es requerido."),e.C$Y())}function D(t,n){if(1&t&&(e.I0R(0,"mat-hint",44),e.yuY(1,P,2,0,"div",45),e.C$Y()),2&t){const o=e.GaO();e.yG2(),e.C0Y(1,o.f.Fecha_Nac.errors&&o.f.Fecha_Nac.errors.required?1:-1)}}function x(t,n){1&t&&(e.I0R(0,"div",46),e.OEk(1,"Correo es requerido."),e.C$Y())}function M(t,n){if(1&t&&(e.I0R(0,"mat-hint",44),e.yuY(1,x,2,0,"div",45),e.C$Y()),2&t){const o=e.GaO();e.yG2(),e.C0Y(1,o.f.Correo.errors&&o.f.Correo.errors.required?1:-1)}}function q(t,n){1&t&&(e.I0R(0,"div",46),e.OEk(1,"Apellido es requerido."),e.C$Y())}function Q(t,n){if(1&t&&(e.I0R(0,"mat-hint",44),e.yuY(1,q,2,0,"div",45),e.C$Y()),2&t){const o=e.GaO();e.yG2(),e.C0Y(1,o.f.Apellido.errors&&o.f.Apellido.errors.required?1:-1)}}function w(t,n){1&t&&(e.I0R(0,"div",46),e.OEk(1,"CUI es requerido."),e.C$Y())}function L(t,n){if(1&t&&(e.I0R(0,"mat-hint",44),e.yuY(1,w,2,0,"div",45),e.C$Y()),2&t){const o=e.GaO();e.yG2(),e.C0Y(1,o.f.CUI.errors&&o.f.CUI.errors.required?1:-1)}}function B(t,n){1&t&&(e.I0R(0,"div",46),e.OEk(1,"T\xe9lefono es requerido."),e.C$Y())}function K(t,n){if(1&t&&(e.I0R(0,"mat-hint",44),e.yuY(1,B,2,0,"div",45),e.C$Y()),2&t){const o=e.GaO();e.yG2(),e.C0Y(1,o.f.Telefono.errors&&o.f.Telefono.errors.required?1:-1)}}function W(t,n){1&t&&(e.I0R(0,"div",46),e.OEk(1,"Direcci\xf3n es requerido."),e.C$Y())}function V(t,n){if(1&t&&(e.I0R(0,"mat-hint",44),e.yuY(1,W,2,0,"div",45),e.C$Y()),2&t){const o=e.GaO();e.yG2(),e.C0Y(1,o.f.Direccion.errors&&o.f.Direccion.errors.required?1:-1)}}function J(t,n){if(1&t&&(e.I0R(0,"div",47)(1,"span"),e.OEk(2),e.C$Y()()),2&t){const o=n.$implicit;e.yG2(2),e.cNF(o)}}function X(t,n){1&t&&(e.I0R(0,"div",47)(1,"span"),e.OEk(2," Sin rol asociada"),e.C$Y()())}function j(t,n){if(1&t&&(e.I0R(0,"div",47)(1,"span"),e.OEk(2),e.C$Y()()),2&t){const o=n.$implicit;e.yG2(2),e.cNF(o)}}function z(t,n){1&t&&(e.I0R(0,"div",47)(1,"span"),e.OEk(2," Sin compa\xf1ia asociada"),e.C$Y()())}const H=[{path:"",children:[{path:"account-setting",component:(()=>{class t{constructor(o,u,a,d,ee){this.fb=o,this.loginService=u,this.ToastrService=a,this.perfilService=d,this.loadingService=ee,this.fgPerfilUser=this.fb.group({Login:[u.currentUserValue.usuario,[i.AQ.required]],Nombre:[null,[i.AQ.required]],Apellido:["",[i.AQ.required]],CUI:["",i.AQ.compose([i.AQ.required,i.AQ.minLength(13),i.AQ.maxLength(13)])],Correo:["",[i.AQ.required]],Genero:["M",[i.AQ.required]],Telefono:[""],Celular:["",[i.AQ.required]],Direccion:["",[i.AQ.required]],Fecha_Nac:["",[i.AQ.required]],url_Imagen:[u.currentUserValue.url_imagen],Compania:[u.currentUserValue.cod_compania,[i.AQ.required]],Contrasenia:[""],NuevaContrasenia:[""],ConfirmarContrasenia:[""]}),this.BuscaPerfilUsuario()}ngOnInit(){}BuscaPerfilUsuario(){this.loadingService.loadingChanged.emit(!0),this.perfilService.GetUser(this.fgPerfilUser.value).pipe((0,s.K)()).subscribe(o=>{this.loadingService.loadingChanged.emit(!1),this.fgPerfilUser.setValue({Login:o.Login,Nombre:o.Nombre,Apellido:o.Apellido,CUI:"",Correo:o.Correo,Genero:o.Genero,Telefono:o.Telefono,Celular:o.Celular,Direccion:o.Direccion,Fecha_Nac:o.Fecha_Nac,url_Imagen:o.url_Imagen,Compania:o.Compania,Contrasenia:"",NuevaContrasenia:"",ConfirmarContrasenia:""})},o=>{this.loadingService.loadingChanged.emit(!1),this.ToastrService.error(null==o.error.msgRespuesta?"Ocurri\xf3 un error por favor vuelta a iniciar sesi\xf3n para intentarlo de nuevo.":o.error.msgRespuesta,"Error en operaci\xf3n",{progressBar:!0})})}get f(){return this.fgPerfilUser.controls}submit(){this.fgPerfilUser.markAllAsTouched(),this.fgPerfilUser.invalid?this.ToastrService.info("Complete los campos obligatorios","Notificaci\xf3n",{progressBar:!0}):this.fgPerfilUser.value.CUI.toString().length<13||this.fgPerfilUser.value.CUI.toString().length>13?this.ToastrService.info("El CUI debe tener 13 digitos","Notificaci\xf3n",{progressBar:!0}):(this.loadingService.loadingChanged.emit(!0),this.perfilService.SaveUser(this.fgPerfilUser.value).pipe((0,s.K)()).subscribe(o=>{this.loadingService.loadingChanged.emit(!1),this.ToastrService.success(o.msgRespuesta,"Perfil de usuario",{progressBar:!0})},o=>{this.loadingService.loadingChanged.emit(!1),this.ToastrService.error("undefined"==o.error.msgRespuesta?"Ocurri\xf3 un error por favor vuelta a iniciar sesi\xf3n para intentarlo de nuevo.":o.error.msgRespuesta,"Error en operaci\xf3n",{progressBar:!0})}))}removeDuplicates(o){return Array.from(new Set(o))}static#e=this.\u0275fac=function(u){return new(u||t)(e.GI1(i.im),e.GI1(I.u),e.GI1($.SA),e.GI1(E.u),e.GI1(G.q))};static#t=this.\u0275cmp=e.In1({type:t,selectors:[["app-account-setting"]],features:[e.M5G([{provide:l.Wu,useClass:m.k},{provide:l.IR,useValue:m.G}])],decls:122,vars:15,consts:[[1,"cardWithShadow"],[1,"p-0"],[3,"formGroup"],["mat-stretch-tabs","false","animationDuration","0ms"],["mat-tab-label",""],[1,"p-y-24","b-t-1"],[1,"row"],[1,"col-sm-6"],[1,"p-y-24"],[1,"mat-body-1"],[1,"text-center","m-t-24"],["width","120",1,"rounded-circle",3,"src","alt"],[1,"m-t-24"],["mat-flat-button","","color","primary",1,"m-r-8"],["mat-stroked-button","","color","warn"],[1,"f-s-14","m-t-24","d-block"],[1,"mat-subtitle-2","f-w-600","m-b-8","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","type","password","value","","autocomplete","off","formControlName","Contrasenia"],["matInput","","type","password","value","","autocomplete","off","formControlName","NuevaContrasenia"],["appearance","outline","color","primary",1,"w-100","hide-hint"],["matInput","","type","password","value","","autocomplete","off","formControlName","ConfirmarContrasenia"],[1,"col-12"],[1,"row","m-t-24"],["matInput","","type","text","value","","formControlName","Nombre","required",""],["class","m-b-16 error-msg"],["appearance","outline",1,"w-100"],["formControlName","Genero","required",""],["value","M"],["value","F"],["matInput","","value","","formControlName","Fecha_Nac","required","",3,"matDatepicker"],["matIconSuffix","",3,"for"],["Fecha_Nac",""],["matInput","","type","email","value","","formControlName","Correo","required",""],["matInput","","type","text","value","","formControlName","Apellido","required",""],["matInput","","type","number","value","","formControlName","CUI","required",""],["matInput","","type","text","value","","formControlName","Telefono","required",""],["matInput","","type","text","value","","formControlName","Celular"],["matInput","","type","text","value","","formControlName","Direccion","required",""],[1,"col-sm-6","col-12"],[1,"text-right","p-24","p-t-0"],["id","SavePerfil","mat-flat-button","","color","primary",1,"m-r-8",3,"click"],[1,"d-flex","align-items-center"],["name","user-circle",1,"icon-20","m-r-8"],[1,"m-b-16","error-msg"],["class","text-error"],[1,"text-error"],[1,"taskboard-header","bg-primary","p-y-8","p-x-16","rounded","text-white","m-b-16"],["class","taskboard-header bg-primary p-y-8 p-x-16 rounded text-white m-b-16"]],template:function(u,a){if(1&u&&(e.I0R(0,"mat-card",0)(1,"mat-card-content",1)(2,"div",2)(3,"mat-tab-group",3)(4,"mat-tab"),e.yuY(5,U,4,0,"ng-template",4),e.I0R(6,"mat-card-content",5)(7,"div",6)(8,"div",7)(9,"mat-card",0)(10,"mat-card-content",8)(11,"mat-card-title"),e.OEk(12,"Cambiar el perfil"),e.C$Y(),e.I0R(13,"mat-card-subtitle",9),e.OEk(14,"Cambia tu foto de perfil desde aqu\xed"),e.C$Y(),e.I0R(15,"div",10),e.wR5(16,"img",11),e.I0R(17,"div",12)(18,"button",13),e.OEk(19," Subir "),e.C$Y(),e.I0R(20,"button",14),e.OEk(21,"Reiniciar"),e.C$Y()(),e.I0R(22,"span",15),e.OEk(23,"Archivos permitidos JPG, GIF or PNG. tama\xf1o maximo de 800K"),e.C$Y()()()()(),e.I0R(24,"div",7)(25,"mat-card",0)(26,"mat-card-content",8)(27,"mat-card-title"),e.OEk(28,"Cambiar la contrase\xf1a"),e.C$Y(),e.I0R(29,"mat-card-subtitle",9),e.OEk(30,"Para cambiar su contrase\xf1a por favor confirme aqu\xed"),e.C$Y(),e.I0R(31,"mat-label",16),e.OEk(32,"Contrase\xf1a actual"),e.C$Y(),e.I0R(33,"mat-form-field",17),e.wR5(34,"input",18),e.C$Y(),e.I0R(35,"mat-label",16),e.OEk(36,"Nueva contrase\xf1a"),e.C$Y(),e.I0R(37,"mat-form-field",17),e.wR5(38,"input",19),e.C$Y(),e.I0R(39,"mat-label",16),e.OEk(40,"Confirmar contrase\xf1a"),e.C$Y(),e.I0R(41,"mat-form-field",20),e.wR5(42,"input",21),e.C$Y()()()(),e.I0R(43,"div",22)(44,"mat-card",0)(45,"mat-card-content")(46,"mat-card-title"),e.OEk(47,"Detalles personales"),e.C$Y(),e.I0R(48,"mat-card-subtitle",9),e.OEk(49,"Para cambiar sus datos personales, editar y guardar desde aqu\xed"),e.C$Y(),e.I0R(50,"div",23)(51,"div",7)(52,"mat-label",16),e.OEk(53,"Nombre"),e.C$Y(),e.I0R(54,"mat-form-field",17),e.wR5(55,"input",24),e.yuY(56,k,2,1,"mat-hint",25),e.C$Y(),e.I0R(57,"mat-label",16),e.OEk(58,"Genero"),e.C$Y(),e.I0R(59,"mat-form-field",26)(60,"mat-select",27)(61,"mat-option",28),e.OEk(62,"Masculino"),e.C$Y(),e.I0R(63,"mat-option",29),e.OEk(64,"Femenino"),e.C$Y()(),e.yuY(65,_,2,1,"mat-hint",25),e.C$Y(),e.I0R(66,"mat-label",16),e.OEk(67,"Fecha Nac."),e.C$Y(),e.I0R(68,"mat-form-field",17),e.wR5(69,"input",30)(70,"mat-datepicker-toggle",31)(71,"mat-datepicker",null,32),e.yuY(73,D,2,1,"mat-hint",25),e.C$Y(),e.I0R(74,"mat-label",16),e.OEk(75,"Correo"),e.C$Y(),e.I0R(76,"mat-form-field",17),e.wR5(77,"input",33),e.yuY(78,M,2,1,"mat-hint",25),e.C$Y()(),e.I0R(79,"div",7)(80,"mat-label",16),e.OEk(81,"Apellido"),e.C$Y(),e.I0R(82,"mat-form-field",17),e.wR5(83,"input",34),e.yuY(84,Q,2,1,"mat-hint",25),e.C$Y(),e.I0R(85,"mat-label",16),e.OEk(86,"CUI"),e.C$Y(),e.I0R(87,"mat-form-field",17),e.wR5(88,"input",35),e.yuY(89,L,2,1,"mat-hint",25),e.C$Y(),e.I0R(90,"mat-label",16),e.OEk(91,"Tel\xe9fono"),e.C$Y(),e.I0R(92,"mat-form-field",17),e.wR5(93,"input",36),e.yuY(94,K,2,1,"mat-hint",25),e.C$Y(),e.I0R(95,"mat-label",16),e.OEk(96,"Celular"),e.C$Y(),e.I0R(97,"mat-form-field",17),e.wR5(98,"input",37),e.C$Y()(),e.I0R(99,"div",22)(100,"mat-label",16),e.OEk(101,"Direcci\xf3n"),e.C$Y(),e.I0R(102,"mat-form-field",17),e.wR5(103,"input",38),e.yuY(104,V,2,1,"mat-hint",25),e.C$Y()(),e.I0R(105,"div",39)(106,"mat-label",16),e.OEk(107,"Roles Asignados"),e.C$Y(),e.c53(108,J,3,1,"div",48,e.oxv,!1,X,3,0,"div",48),e.C$Y(),e.I0R(111,"div",39)(112,"mat-label",16),e.OEk(113,"Compa\xf1ias asignadas"),e.C$Y(),e.c53(114,j,3,1,"div",48,e.oxv,!1,z,3,0,"div",48),e.C$Y()()()()()()()()(),e.I0R(117,"div",40)(118,"button",41),e.qCj("click",function(){return a.submit()}),e.OEk(119,"Guardar"),e.C$Y(),e.I0R(120,"button",14),e.OEk(121,"Cancel"),e.C$Y()()()()()),2&u){const d=e.Gew(72);e.yG2(2),e.E7m("formGroup",a.fgPerfilUser),e.yG2(14),e.E7m("src",a.fgPerfilUser.value.url_Imagen,e.K6U)("alt",a.fgPerfilUser.value.url_Imagen),e.yG2(40),e.C0Y(56,a.f.Nombre.touched&&a.f.Nombre.invalid?56:-1),e.yG2(9),e.C0Y(65,a.f.Genero.touched&&a.f.Genero.invalid?65:-1),e.yG2(4),e.E7m("matDatepicker",d),e.yG2(),e.E7m("for",d),e.yG2(3),e.C0Y(73,a.f.Fecha_Nac.touched&&a.f.Fecha_Nac.invalid?73:-1),e.yG2(5),e.C0Y(78,a.f.Correo.touched&&a.f.Correo.invalid?78:-1),e.yG2(6),e.C0Y(84,a.f.Apellido.touched&&a.f.Apellido.invalid?84:-1),e.yG2(5),e.C0Y(89,a.f.CUI.touched&&a.f.CUI.invalid?89:-1),e.yG2(5),e.C0Y(94,a.f.Telefono.touched&&a.f.Telefono.invalid?94:-1),e.yG2(10),e.C0Y(104,a.f.Direccion.touched&&a.f.Direccion.invalid?104:-1),e.yG2(4),e.oho(a.removeDuplicates(a.loginService.currentUserValue.roles)),e.yG2(6),e.oho(a.fgPerfilUser.value.Compania)}},dependencies:[l.I5,Y.SU,Y.Ul,Y.yu,C.Up,C.w5,C.MX,C.Gm,b.yi,O.kX,v.SM,v.WK,v.uK,v.gp,y.i0,y.aJ,y._q,S.Gw,T.qL,i.ot,i.O4,i.ue,i.u,i.eJ,i.uW,i.Wo,A.A5],encapsulation:2})}return t})(),data:{title:"Configuraci\xf3n Cuenta",urls:[{title:"Dashboard",url:"/dashboards/dashboard1"},{title:"Configuraci\xf3n Cuenta"}]}}]}];let Z=(()=>{class t{static#e=this.\u0275fac=function(u){return new(u||t)};static#t=this.\u0275mod=e.a4G({type:t});static#o=this.\u0275inj=e.s3X({imports:[f.MD,g.qQ.forChild(H),h.y,i.y,i.sl,A.m2.pick(c),l.Ko]})}return t})()}}]);